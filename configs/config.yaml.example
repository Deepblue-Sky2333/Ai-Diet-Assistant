# ============================================
# AI Diet Assistant Configuration Example
# ============================================
# 
# 此文件仅作为示例，不要直接使用！
# 运行 'scripts/install.sh' 会自动生成 config.yaml 文件
#
# This file is an example only. DO NOT use directly!
# Run 'scripts/install.sh' to automatically generate config.yaml
#

# ============================================
# Server Configuration
# ============================================
server:
  port: 9090
  mode: release  # Options: debug, release, test
  read_timeout: 30s
  write_timeout: 30s

# ============================================
# Database Configuration
# ============================================
# 由安装脚本自动配置 / Automatically configured by install script
database:
  host: localhost
  port: 3306
  user: diet_user
  password: <AUTO_GENERATED>
  dbname: ai_diet_assistant
  charset: utf8mb4
  parse_time: true
  loc: Local
  max_open_conns: 100
  max_idle_conns: 10
  conn_max_lifetime: 3600s

# ============================================
# JWT Configuration
# ============================================
# 由安装脚本自动生成 / Automatically generated by install script
jwt:
  secret: <AUTO_GENERATED_48_BYTES>
  expire_hours: 1
  refresh_expire_hours: 168

# ============================================
# Encryption Configuration
# ============================================
# 由安装脚本自动生成 / Automatically generated by install script
encryption:
  aes_key: <AUTO_GENERATED_32_BYTES>

# ============================================
# Redis Configuration
# ============================================
# 由安装脚本配置 / Configured by install script
redis:
  enabled: false
  host: localhost
  port: 6379
  password: ""
  db: 0
  max_retries: 3
  pool_size: 10

# ============================================
# Rate Limiting
# ============================================
rate_limit:
  enabled: true
  requests_per_minute: 100
  burst: 10

# ============================================
# CORS Configuration
# ============================================
# 由安装脚本配置 / Configured by install script
cors:
  allowed_origins:
    - http://localhost:3000
  allowed_methods:
    - GET
    - POST
    - PUT
    - DELETE
    - OPTIONS
  allowed_headers:
    - Origin
    - Content-Type
    - Authorization
  expose_headers:
    - Content-Length
  allow_credentials: true
  max_age: 12h

# ============================================
# Logging Configuration
# ============================================
log:
  level: info
  format: json
  output: logs/app.log
  max_size: 100
  max_backups: 3
  max_age: 28
  compress: true

# ============================================
# Security Settings
# ============================================
security:
  max_login_attempts: 5
  lockout_duration: 15m
  password_min_length: 8
  require_special_char: true
  require_number: true
  require_uppercase: true

# ============================================
# Upload Configuration
# ============================================
upload:
  max_file_size: 10485760  # 10MB
  allowed_types:
    - image/jpeg
    - image/png
    - image/gif
  upload_path: uploads/
